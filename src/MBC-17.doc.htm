<!DOCTYPE html>
<html>
<head>
    <title>[#MBC-17] Исправить парсинг Google (503 Service Unavailable)</title>
    <meta http-equiv="Content-Type" Content="application/vnd.ms-word; charset=UTF-8">
        <style type="text/css">

.tableBorder, .grid
{
    background-color: #fff;
    width: 100%;
    border-collapse: collapse;
}

.tableBorder td, .grid td
{
    vertical-align: top;
    padding: 2px;
    border: 1px solid #ccc;
}

.noPadding
{
    padding: 0 !important;
}

h3 .subText
{
    font-size: 60%;
    font-weight: normal;
}

.tabLabel
{
    font-weight: bold;
    border: 1px solid #ccc;
    border-bottom:none;
    padding: 2px;
    display: inline;
}

td.blank
{
    padding: 0;
    margin: 0;
}

.blank td
{
    border: none;
}

#descriptionArea
{
    margin: 0;
    padding: 2px;
    border: 1px solid #ccc;
}

hr
{
    border-top:1px solid #aaa;
}

hr.fullcontent
{
  height: 15px;
  padding: 10px 0;
  background: #fff url('https://adagency.atlassian.net/images/icons/hr.gif') no-repeat scroll center;
}

</style>

</head>
<body>

<table class="tableBorder" cellpadding="0" cellspacing="0" border="0" width="100%">
    <tr>
        <td bgcolor="#f0f0f0" width="100%" colspan="2" valign="top">
                            <h3 class="formtitle">
                        [MBC-17]&nbsp;<a href="https://adagency.atlassian.net/browse/MBC-17">Исправить парсинг Google (503 Service Unavailable)</a>
            <span class="subText">
               Created: 27/Feb/17                   &nbsp;Updated: 23/Jun/17

                                            </span>
            </h3>
        </td>
    </tr>
    <tr>
        <td width="20%"><b>Status:</b></td>
        <td width="80%">To Do</td>
    </tr>
    <tr>
        <td width="20%"><b>Project:</b></td>
        <td width="80%"><a href="https://adagency.atlassian.net/secure/BrowseProject.jspa?id=10100">MixTraff CRM</a></td>
    </tr>

        <tr>
            <td><b>Component/s:</b></td>
            <td>
                            None
                </td>
    </tr>
    

        <tr>
            <td><b>Affects Version/s:</b></td>
            <td>
                            None
                </td>
    </tr>
    

        <tr>
            <td><b>Fix Version/s:</b></td>
            <td>
                            None
                </td>
    </tr>
    
    </table>

<br />
<table class="grid" cellpadding="0" cellspacing="0" border="0" width="100%">
    <tr>
        <td bgcolor="#f0f0f0" valign="top" width="20%">
            <b>Type:</b>
        </td>
        <td bgcolor="#ffffff" valign="top"  width="30%" >
            Bug
        </td>

                    <td bgcolor="#f0f0f0">
                <b>Priority:</b>
            </td>
            <td bgcolor="#ffffff" valign="top" nowrap>
                High
            </td>
            </tr>
    <tr>
                        <td bgcolor="#f0f0f0" valign="top" width="20%">
                <b>Reporter:</b>
            </td>
            <td bgcolor="#ffffff" valign="top"  width="30%" >
                                            <a class="user-hover" rel="4841601" id="word_reporter_4841601" href="https://adagency.atlassian.net/secure/ViewProfile.jspa?name=4841601">yybitb</a>
                            </td>
        
                    <td bgcolor="#f0f0f0" width="20%">
                <b>Assignee:</b>
            </td>
            <td bgcolor="#ffffff" valign="top" nowrap  width="30%" >
                                            <a class="user-hover" rel="4841601" id="word_assignee_4841601" href="https://adagency.atlassian.net/secure/ViewProfile.jspa?name=4841601">yybitb</a>
                            </td>
            </tr>
    	<tr>
		<td bgcolor="#f0f0f0" width="20%">
			<b>Resolution:</b>
		</td>
		<td bgcolor="#ffffff" valign="top" width="30%" nowrap>
            				Unresolved
                    </td>
                    <td bgcolor="#f0f0f0" width="20%">
                <b>Votes:</b>
            </td>
            <td bgcolor="#ffffff" valign="top" width="30%" nowrap>
                0
            </td>
        
    </tr>
    
        <tr>
        <td bgcolor="#f0f0f0" width="20%">
            <b>Labels:</b>
        </td>
        <td id="labels-12101-value" class="value" bgcolor="#ffffff" valign="top" colspan="3" nowrap>
                            None
                    </td>
    </tr>
    
    	<tr>
        		<td bgcolor="#f0f0f0" width="20%"><b>Remaining Estimate:</b></td>
        <td bgcolor="#ffffff" valign="top" nowrap width="80%" colspan="3">
                            Not Specified
            		</td>
    </tr>
    <tr>
                <td bgcolor="#f0f0f0" width="20%"><b>Time Spent:</b></td>
		<td bgcolor="#ffffff" valign="top" nowrap width="80%" colspan="3">
                            Not Specified
            		</td>
	</tr>
    <tr>
                <td bgcolor="#f0f0f0" width="20%"><b>Original Estimate:</b></td>
		<td bgcolor="#ffffff" valign="top" nowrap width="80%" colspan="3">
                            Not Specified
            		</td>
    </tr>
    
    </table>



    <br />

    	<table class="grid" cellpadding="0" cellspacing="0" border="0" width="100%">
            

                <tr>
            <td bgcolor="#f0f0f0" width=20% valign=top>
                <b>Attachments:</b>
            </td>
            <td bgcolor="#ffffff" valign="top">
                                    <img src="https://adagency.atlassian.net/images/icons/attach/image.gif" height="16" width="16" border="0" alt="PNG File">
                    google-captcha-error.png &nbsp;&nbsp;&nbsp;
                            </td>
        </tr>
        
    



</table>

    <br/>

    <table cellpadding="2" cellspacing="0" border="0" width="100%" align="center">
    <tr>
        <td bgcolor="#bbbbbb" width="1%" nowrap align="center">
            &nbsp;<font color="#ffffff"><b>Description</b></font>&nbsp;
        </td>
        <td>&nbsp;</td>
    </tr>
    </table>

    <table cellpadding="0" cellspacing="0" border="0" width="100%">
    <tr>
        <td id="descriptionArea">
            <p><b>Задача</b>: Исправить парсинг Google. </p>

<p>После перехода на новый список прокси часто выдает ошибку в категории 'xml.google'</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>Exception: Error: 503: HTTP/1.1 503 Service Unavailable
</pre>
</div></div>


            <br/>
        </td>
    </tr>
    </table>

    <br/>

    <table cellpadding="2" cellspacing="0" border="0" width="100%" align="center">
    <tr>
        <td bgcolor="#bbbbbb" width="1%" nowrap align="center">
            &nbsp;<font color="#ffffff"><b>Comments</b></font>&nbsp;
        </td>
        <td>&nbsp;</td>
    </tr>
    </table>

    <table cellpadding="0" cellspacing="0" border="0" width="100%" class="grid" style="margin: 0;">
                <tr id="comment-header-11808"><td bgcolor="#f0f0f0">
            Comment by  
                                                        <a class="user-hover" rel="4841601" id="word_commented_4841601" href="https://adagency.atlassian.net/secure/ViewProfile.jspa?name=4841601">yybitb</a>
                                        <font size="-2">
            [
                <font color="#336699">27/Feb/17</font>

                            ]
            </font>

        </td></tr>
        <tr id="comment-body-11808"><td bgcolor="#ffffff">
            <p>По 2м прокси (5.62.155.97, 79.133.106.22) из нового списка в теле ответа "503 Service Unavailable" Google требует ввести <b>captcha</b></p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>Чтобы продолжить, введите указанные ниже символы:
---
Об этой странице -  Мы зарегистрировали подозрительный трафик, исходящий из вашей сети.
</pre>
</div></div>

<p> <span class="image-wrap" style=""><a id="11200_thumb" href="https://adagency.atlassian.net/secure/attachment/11200/11200_google-captcha-error.png" title="google-captcha-error.png" file-preview-type="image" file-preview-id="11200" file-preview-title="google-captcha-error.png"><jira-attachment-thumbnail url="https://adagency.atlassian.net/secure/thumbnail/11200/google-captcha-error.png?default=false" jira-url="https://adagency.atlassian.net/secure/thumbnail/11200/google-captcha-error.png" filename="google-captcha-error.png"><img src="https://adagency.atlassian.net/secure/thumbnail/11200/google-captcha-error.png" data-attachment-name="google-captcha-error.png" data-attachment-type="thumbnail" data-media-services-id="361f30c0-c4c8-4f2a-9289-f1609e14b348" data-media-services-type="file" style="border: 0px solid black" /></jira-attachment-thumbnail></a></span> </p>

<p><b>update</b>: проверил весь список из 1000 прокси по запросу "<a href="https://google.ru/search?q=%D1%81%D0%BC%D0%BE%D1%82%D1%80%D0%B5%D1%82%D1%8C+%D1%84%D0%B8%D0%BB%D1%8C%D0%BC%D1%8B+%D0%B1%D0%B5%D1%81%D0%BF%D0%BB%D0%B0%D1%82%D0%BD%D0%BE&amp;num=30&amp;lr=lang_ru" class="external-link" rel="nofollow">смотреть фильмы бесплатно</a>" - <b>абсолютно все</b> прокси выдают "503 Service Unavailable", фрагмент:</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>Check proxy: 146.185.203.107:8080
 Bad proxy, code: Error: 503: HTTP/1.1 503 Service Unavailable
Check proxy: 5.188.219.160:8080
 Bad proxy, code: Error: 503: HTTP/1.1 503 Service Unavailable
Check proxy: 79.133.106.59:8080
 Bad proxy, code: Error: 503: HTTP/1.1 503 Service Unavailable

</pre>
</div></div>

<p>Поставил <b>временно</b> запрос от Google напрямую без прокси</p>
        </td></tr>
                <tr id="comment-header-16600"><td bgcolor="#f0f0f0">
            Comment by  
                                                        <a class="user-hover" rel="vadik" id="word_commented_vadik" href="https://adagency.atlassian.net/secure/ViewProfile.jspa?name=vadik">Vadim Klimenko</a>
                                        <font size="-2">
            [
                <font color="#336699">22/Jun/17</font>

                            ]
            </font>

        </td></tr>
        <tr id="comment-body-16600"><td bgcolor="#ffffff">
            <p>сейчас через прокси работает? если нет, то нужно через прокси</p>
        </td></tr>
                <tr id="comment-header-16700"><td bgcolor="#f0f0f0">
            Comment by  
                                                        <a class="user-hover" rel="4841601" id="word_commented_4841601" href="https://adagency.atlassian.net/secure/ViewProfile.jspa?name=4841601">yybitb</a>
                                        <font size="-2">
            [
                <font color="#336699">23/Jun/17</font>

                            ]
            </font>

        </td></tr>
        <tr id="comment-body-16700"><td bgcolor="#ffffff">
            <p>Переключил на новый список прокси, пока по 5 кл. словам за последние 6 часов дает </p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>Exception: Error: 403: HTTP/1.1 403 Forbidden
</pre>
</div></div>
<p>с пустым телом ответа. </p>
        </td></tr>
                <tr id="comment-header-16702"><td bgcolor="#f0f0f0">
            Comment by  
                                                        <a class="user-hover" rel="vadik" id="word_commented_vadik" href="https://adagency.atlassian.net/secure/ViewProfile.jspa?name=vadik">Vadim Klimenko</a>
                                        <font size="-2">
            [
                <font color="#336699">23/Jun/17</font>

                            ]
            </font>

        </td></tr>
        <tr id="comment-body-16702"><td bgcolor="#ffffff">
            <p>убираем прокси, не работает обход капчи</p>
        </td></tr>
            </table>
Generated at Thu Sep 14 07:16:59 UTC 2017 by yybitb using JIRA 1001.0.0-SNAPSHOT#100059-sha1:5bc2bce065aebd69bf5a23bc3efdd94fd09dddc8.

</body>
</html>